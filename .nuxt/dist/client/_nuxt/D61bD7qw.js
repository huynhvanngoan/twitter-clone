import{a as g,_ as v,T as $,H as k}from"./DdE8sUb_.js";import{p as B,o as i,c as p,b as s,u as l,a as b,j as x,q as F,k as j,r as m,m as q,f as H,w,h as I,g as N,l as d}from"./VyZK0o_j.js";import"./-dyYImqE.js";const O={key:0},S={key:1},A={__name:"Details",props:{tweet:{type:Object,required:!1,default:null},user:{type:Object,required:!0}},setup(u){const e=u,n=B(()=>{var t;return((t=e.tweet)==null?void 0:t.replies)||[]}),a=t=>{x({path:`/status/${t.id}`})};return(t,r)=>{const _=F,c=j,o=g;return u.tweet?(i(),p("div",O,[s(_,{tweet:e.tweet,user:e.user},null,8,["tweet","user"]),s(c,{placeholder:"Tweet your reply",replyTo:e.tweet,user:e.user,onOnSuccess:a},null,8,["replyTo","user"]),s(o,{tweets:l(n)},null,8,["tweets"])])):(i(),p("div",S,r[0]||(r[0]=[b("p",null,"No tweet available.",-1)])))}}},C={__name:"[id]",setup(u){const{getTweetById:e}=N(),n=m(!1),a=m(null),{useAuthUser:t}=I(),r=t();q(()=>d().fullPath,()=>c());const _=()=>d().params.id,c=async()=>{n.value=!0;try{const o=await e(_());a.value=o.tweet}catch(o){console.log(o)}finally{n.value=!1}};return H(()=>{c()}),(o,D)=>{const f=$,T=k,h=A,y=v;return i(),p("div",null,[s(y,{title:"Tweet",loading:l(n)},{default:w(()=>[s(T,null,{default:w(()=>[s(f)]),_:1}),s(h,{tweet:l(a),user:l(r)},null,8,["tweet","user"])]),_:1},8,["loading"])])}}};export{C as default};
